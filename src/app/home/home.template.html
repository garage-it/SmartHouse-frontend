<div class="home-nav">
    <div class="home-nav__logo"
         *ngIf="currentView?.name">
        {{currentView.name}}
    </div>
    <div class="home-nav__actions">    
        <!--TODO: make a Toggle component-->
        <div class="home-nav__view-toggle toggle">
            <ul>
                View:
                <li
                    class="toggle__item"
                    [ngClass]="{'toggle__item_active': (currentSubview == 'MapSubview')}"
                    (click)="setCurrentSubview('MapSubview')"
                >
                    Map
                </li>
                <li
                    class="toggle__item"
                    [ngClass]="{'toggle__item_active': (currentSubview == 'DashboardSubview')}"
                    (click)="setCurrentSubview('DashboardSubview')"
                >
                    Dashboard
                </li>
            </ul>
        </div>
        <button class="button button_default"
                [routerLink]="['constructor', currentView?.parentViewId]">
            Edit
        </button>
        <button class="button button_success"
                [routerLink]="['constructor']">
            + Create view
        </button>
    </div>
</div>

<div class="home-view home-view_empty"
     *ngIf="!currentView">
    <div class="home-view__empty-content">
        Please
        <a class="home-view__create-view"
           [routerLink]="['constructor']">
            create
        </a>
        view
    </div>
</div>

<div
    class="home-view home-view_not-empty"
    *ngIf="currentView">
    <sh-map-subview
        [mapSubview]="currentView.mapSubview"
        *ngIf="currentSubview == 'MapSubview'"
    ></sh-map-subview>
    <sh-dashboard-subview
        [dasboardSubview]="currentView.dashboardSubview"
        *ngIf="currentSubview == 'DashboardSubview'"
    ></sh-dashboard-subview>
</div>

<sh-view-list [listViews]="viewList"
              (onSelectView)="setCurrentView($event)">
</sh-view-list>
